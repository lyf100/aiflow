<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid vs D3 å®æ—¶å¯¹æ¯”æ¼”ç¤º</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e1e2e 0%, #2d2d44 100%);
            color: #e0e0e0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #94a3b8;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 1200px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .panel-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
            padding: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .panel-header h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .stats {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .stat {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .panel-content {
            padding: 20px;
            min-height: 500px;
            background: #1a1a2e;
        }

        .mermaid {
            background: transparent;
        }

        .metrics {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 30px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .metrics h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%);
            font-weight: 600;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .winner {
            color: #10b981;
            font-weight: 600;
        }

        .code-sample {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .code-sample pre {
            margin: 0;
            color: #e6edf3;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .recommendation {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(52, 211, 153, 0.1) 100%);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .recommendation h3 {
            color: #10b981;
            margin-bottom: 15px;
        }

        .recommendation ul {
            margin: 10px 0;
            padding-left: 25px;
        }

        .recommendation li {
            margin: 10px 0;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¤– Mermaid vs D3 å®æ—¶å¯¹æ¯”æ¼”ç¤º</h1>
            <p class="subtitle">æ–‡æœ¬é©±åŠ¨ vs ç¼–ç¨‹å¼å¯è§†åŒ–</p>
        </header>

        <div class="comparison-grid">
            <!-- D3ç‰ˆæœ¬æ¼”ç¤º -->
            <div class="panel">
                <div class="panel-header">
                    <h2>ğŸ”§ D3æ‰‹åŠ¨å®ç°</h2>
                    <div class="stats">
                        <span class="stat">ğŸ“¦ 32KB</span>
                        <span class="stat">ğŸ“ 248è¡Œä»£ç </span>
                        <span class="stat">â±ï¸ 2å¤©å¼€å‘</span>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="code-sample">
                        <pre>// âŒ D3ç‰ˆæœ¬ - éœ€è¦æ‰‹å†™å¤æ‚é€»è¾‘
function renderSequence(svg, data) {
  const margin = { top: 80, right: 40 };
  const participantWidth = 120;
  const messageSpacing = 60;

  // ç»˜åˆ¶å‚ä¸è€…...
  participants.forEach((p, i) => {
    const x = i * spacing;
    svg.append('rect')
       .attr('x', x)
       .attr('width', participantWidth)
       // ... 50å¤šè¡ŒSVGå±æ€§è®¾ç½®
  });

  // ç»˜åˆ¶æ¶ˆæ¯...
  messages.forEach(msg => {
    svg.append('line')
       .attr('x1', fromX)
       .attr('y1', y)
       // ... 30å¤šè¡Œç®­å¤´ç»˜åˆ¶
  });

  // ... è¿˜æœ‰100å¤šè¡Œå¸ƒå±€å’Œæ ·å¼ä»£ç 
}

// æ€»è®¡: 248è¡Œå¤æ‚SVGæ“ä½œ</pre>
                    </div>
                </div>
            </div>

            <!-- Mermaidç‰ˆæœ¬æ¼”ç¤º -->
            <div class="panel">
                <div class="panel-header">
                    <h2>ğŸ¤– Mermaid AIç”Ÿæˆ</h2>
                    <div class="stats">
                        <span class="stat">ğŸ“¦ ~200KB</span>
                        <span class="stat">ğŸ“ 60è¡Œä»£ç </span>
                        <span class="stat">â±ï¸ 2å°æ—¶å¼€å‘</span>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="code-sample">
                        <pre>// âœ… Mermaidç‰ˆæœ¬ - ç®€æ´çš„æ–‡æœ¬æè¿°
const mermaidCode = `
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Frontend as Frontend
    participant Backend as Backend API
    participant Database as Database

    User->>Frontend: ç‚¹å‡»"åˆ†æ"æŒ‰é’®
    Frontend->>Backend: POST /api/analyze
    Backend->>Database: SELECT * FROM projects
    Database-->>Backend: è¿”å›é¡¹ç›®æ•°æ®
    Backend-)>>Backend: AIåˆ†æå¤„ç†
    Backend-->>Frontend: è¿”å›åˆ†æç»“æœJSON
    Frontend-->>User: æ˜¾ç¤ºå¯è§†åŒ–å›¾è¡¨
`;

// æ¸²æŸ“
mermaid.render('diagram', mermaidCode);

// æ€»è®¡: ä»…60è¡Œç®€æ´ä»£ç !</pre>
                    </div>

                    <h3 style="margin: 20px 0; color: #667eea;">ğŸ“Š å®æ—¶æ¸²æŸ“æ•ˆæœï¼š</h3>
                    <div class="mermaid">
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Frontend as Frontend
    participant Backend as Backend API
    participant Database as Database

    User->>Frontend: ç‚¹å‡»"åˆ†æ"æŒ‰é’®
    Frontend->>Backend: POST /api/analyze
    activate Backend
    Backend->>Database: SELECT * FROM projects
    Database-->>Backend: è¿”å›é¡¹ç›®æ•°æ®
    Note over Backend: âš¡ å¹¶å‘ç»„ 1
    Backend-)>>Backend: AIåˆ†æå¤„ç†
    Backend-)>>Database: INSERT analysis_result
    Backend-->>Frontend: è¿”å›åˆ†æç»“æœJSON
    deactivate Backend
    Frontend-->>User: æ˜¾ç¤ºå¯è§†åŒ–å›¾è¡¨
                    </div>
                </div>
            </div>
        </div>

        <!-- å¯¹æ¯”æŒ‡æ ‡ -->
        <div class="metrics">
            <h2>ğŸ“Š ç»¼åˆå¯¹æ¯”æŒ‡æ ‡</h2>
            <table>
                <thead>
                    <tr>
                        <th>è¯„ä¼°ç»´åº¦</th>
                        <th>D3æ‰‹åŠ¨å®ç°</th>
                        <th>Mermaid AIç”Ÿæˆ</th>
                        <th>ä¼˜èƒœè€…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ä»£ç é‡</td>
                        <td>248è¡Œ</td>
                        <td>60è¡Œ (-76%)</td>
                        <td class="winner">ğŸ† Mermaid</td>
                    </tr>
                    <tr>
                        <td>å¼€å‘æ—¶é—´</td>
                        <td>2å¤©</td>
                        <td>2å°æ—¶ (-90%)</td>
                        <td class="winner">ğŸ† Mermaid</td>
                    </tr>
                    <tr>
                        <td>åŒ…ä½“ç§¯(gzip)</td>
                        <td>12KB</td>
                        <td>~200KB</td>
                        <td class="winner">ğŸ† D3</td>
                    </tr>
                    <tr>
                        <td>UMLæ ‡å‡†ç¬¦åˆ</td>
                        <td>âš ï¸ è‡ªå®šä¹‰å®ç°</td>
                        <td>âœ… UML 2.0æ ‡å‡†</td>
                        <td class="winner">ğŸ† Mermaid</td>
                    </tr>
                    <tr>
                        <td>ç»´æŠ¤æˆæœ¬</td>
                        <td>é«˜</td>
                        <td>ä½</td>
                        <td class="winner">ğŸ† Mermaid</td>
                    </tr>
                    <tr>
                        <td>AIå‹å¥½åº¦</td>
                        <td>ä½ï¼ˆéœ€ç¼–ç¨‹ï¼‰</td>
                        <td>é«˜ï¼ˆæ–‡æœ¬ç”Ÿæˆï¼‰</td>
                        <td class="winner">ğŸ† Mermaid</td>
                    </tr>
                </tbody>
            </table>

            <div class="recommendation">
                <h3>ğŸ’¡ æ¨èæ–¹æ¡ˆï¼šæ··åˆæ¶æ„</h3>
                <ul>
                    <li>âœ… <strong>SequenceDiagram â†’ Mermaid</strong>ï¼šä»£ç å‡å°‘76%ï¼Œç¬¦åˆUMLæ ‡å‡†ï¼Œå¼€å‘é€Ÿåº¦æå‡10å€</li>
                    <li>âš ï¸ <strong>ExecutionTimeline â†’ ä¿æŒD3</strong>ï¼šéœ€è¦transitionåŠ¨ç”»æ•ˆæœ</li>
                    <li>âš ï¸ <strong>CodeGraph â†’ ä¿æŒCytoscape</strong>ï¼šéœ€è¦å¤æ‚äº¤äº’å’Œé«˜æ€§èƒ½</li>
                </ul>
                <p style="margin-top: 15px;"><strong>ç»¼åˆæ”¶ç›Š</strong>ï¼šä»£ç å‡å°‘19%ï¼Œç»´æŠ¤æˆæœ¬é™ä½30%ï¼ŒåŒ…ä½“ç§¯ä»…å¢åŠ 14%</p>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#764ba2',
                lineColor: '#94a3b8',
                secondaryColor: '#10b981',
                tertiaryColor: '#ef4444',
                background: '#1e1e2e',
                mainBkg: '#2d2d44',
                sequenceNumberColor: 'white',
            },
            sequence: {
                diagramMarginX: 50,
                diagramMarginY: 10,
                actorMargin: 80,
                width: 150,
                height: 65,
                boxMargin: 10,
                messageMargin: 35,
                mirrorActors: true,
                useMaxWidth: true,
            },
        });
    </script>
</body>
</html>
