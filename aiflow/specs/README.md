# AIFlow - AI é©±åŠ¨çš„ä»£ç è¡Œä¸ºæ²™ç›˜

**ä¸€ä¸ªé©å‘½æ€§çš„ä»£ç åˆ†æä¸å¯è§†åŒ–å¹³å°ï¼Œå°†é™æ€ä»£ç ç»“æ„ä¸åŠ¨æ€è¿è¡Œè¡Œä¸ºèåˆåœ¨ä¸€èµ·**

---

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

AIFlow ä¸æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç é˜…è¯»å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…çœŸæ­£ç†è§£å¤æ‚è½¯ä»¶ç³»ç»Ÿå¦‚ä½•åœ¨å¤šä¸ªæŠ½è±¡å±‚æ¬¡ä¸ŠååŒè¿ä½œçš„**"è¡Œä¸ºæ²™ç›˜"**ã€‚

### æ ¸å¿ƒä½¿å‘½

- **å¤šå±‚æ¬¡ç†è§£**ï¼šåœ¨å®è§‚æ¶æ„å’Œå¾®è§‚å®ç°ä¹‹é—´è‡ªç”±ç©¿æ¢­
- **è¡Œä¸ºå¯è§†åŒ–**ï¼šå°†é™æ€ä»£ç è½¬åŒ–ä¸ºåŠ¨æ€çš„ã€å¯äº¤äº’çš„æ‰§è¡Œæµç¨‹
- **æ™ºèƒ½è¯­ä¹‰åŒ–**ï¼šç”± AI è´Ÿè´£æ¨¡å—åˆ’åˆ†ã€åŠŸèƒ½å‘½åç­‰éœ€è¦è¯­ä¹‰ç†è§£çš„å…³é”®ä»»åŠ¡
- **åµŒå¥—å¼å¯åŠ¨**ï¼šå¤§æ¨¡å—çš„"å¤§æŒ‰é’®"å¯åŠ¨ç³»ç»Ÿçº§è”åŠ¨ï¼Œå­æ¨¡å—çš„"å°æŒ‰é’®"è¿è¡Œå±€éƒ¨æµç¨‹

---

## ğŸ—ï¸ è®¾è®¡å“²å­¦

### 1. æ™ºèƒ½å§”æ‰˜ç­–ç•¥

å¹³å°æœ¬èº«**ä¸è¿›è¡Œä»£ç è§£æ**ï¼Œè€Œæ˜¯æ‰®æ¼”"æŒ‡æŒ¥å®˜"è§’è‰²ï¼š

```
ç”¨æˆ· â†’ AIFlow æ ¸å¿ƒæŒ‡ä»¤é›† â†’ AI å·¥å…· â†’ æ ‡å‡†åŒ– JSON è¾“å‡º â†’ å¯è§†åŒ–å‰ç«¯
```

- **æ ¸å¿ƒæŒ‡ä»¤é›†ï¼ˆPrompt Libraryï¼‰**ï¼šç²¾å¿ƒè®¾è®¡çš„åˆ†é˜¶æ®µåˆ†ææŒ‡ä»¤
- **AI å·¥å…·**ï¼šè´Ÿè´£æ‰€æœ‰æŠ€æœ¯åˆ†æå’Œè¯­ä¹‰ç†è§£å·¥ä½œ
- **æ ‡å‡†æ•°æ®åè®®**ï¼šç»Ÿä¸€çš„ JSON Schema å®šä¹‰æ‰€æœ‰åˆ†æç»“æœ

### 2. æŠ€æœ¯æ ˆæ— å…³æ€§

ä½œä¸º**"æ— å¤–å£³"çš„ MCP å·¥å…·**ï¼Œå¹³å°é€šè¿‡é€‚é…å™¨æ¥å£å®ç°ä¸å…·ä½“ AI æœåŠ¡çš„è§£è€¦ï¼š

- âœ… Claude 4.5 Sonnet
- âœ… OpenAI GPT-4
- âœ… Google Gemini
- ğŸ”„ ä»»ä½•æ”¯æŒ MCP çš„ AI ç¼–ç¨‹åŠ©æ‰‹

### 3. å±‚çº§ä¸è¡Œä¸ºçš„ç»Ÿä¸€

ä¼ ç»Ÿå·¥å…·è¦ä¹ˆå±•ç¤ºé™æ€ç»“æ„ï¼Œè¦ä¹ˆå±•ç¤ºè¿è¡Œæµç¨‹ï¼Œä¸¤è€…å‰²è£‚ã€‚AIFlow æ·±åº¦èåˆä¸¤è€…ï¼š

- **ä»£ç é€»è¾‘å±‚æ¬¡ç»“æ„**æœ¬èº«æ˜¯äº¤äº’å¼çš„
- æ¯ä¸ªå…·å¤‡ç‹¬ç«‹ä¸šåŠ¡æ„ä¹‰çš„ä»£ç å•å…ƒéƒ½é…å¤‡**AI å‘½åçš„ä¸“å±å¯åŠ¨æŒ‰é’®**
- ç”¨æˆ·å¯ä»¥åœ¨ä»»æ„å±‚çº§è§‚å¯Ÿæ•´ä½“ååŒæˆ–æ·±å…¥å±€éƒ¨ç»†èŠ‚

### 4. åµŒå¥—å¼è¡Œä¸ºå¯åŠ¨ ğŸš€

è¿™æ˜¯ AIFlow æœ€ç‹¬ç‰¹çš„åˆ›æ–°ï¼š

```
ğŸ“¦ System Module [å¤§æŒ‰é’®ï¼šå¯åŠ¨å®Œæ•´ç”¨æˆ·æ³¨å†Œæµç¨‹]
  â”œâ”€ ğŸ“‚ Auth Module [å°æŒ‰é’®ï¼šéªŒè¯é‚®ç®±]
  â”‚   â”œâ”€ ğŸ”§ validateEmail() [å¾®æŒ‰é’®ï¼šå•æ­¥æ‰§è¡ŒéªŒè¯é€»è¾‘]
  â”‚   â””â”€ ğŸ”§ sendVerificationCode()
  â””â”€ ğŸ“‚ Database Module [å°æŒ‰é’®ï¼šä¿å­˜ç”¨æˆ·æ•°æ®]
      â””â”€ ğŸ”§ insertUser()
```

- **å¤§æŒ‰é’®ï¼ˆMacroï¼‰**ï¼šç³»ç»Ÿçº§å¤šæµç¨‹è”åŠ¨åœºæ™¯
- **å°æŒ‰é’®ï¼ˆMicroï¼‰**ï¼šå­æ¨¡å—ç‹¬ç«‹ä¸šåŠ¡æµç¨‹
- **å¾®æŒ‰é’®ï¼ˆFunctionï¼‰**ï¼šå•ä¸ªå‡½æ•°æ‰§è¡Œè½¨è¿¹

### 5. å¹¶å‘è¡Œä¸ºçš„ç²¾ç¡®è¡¨è¾¾

ç°ä»£è½¯ä»¶ç³»ç»Ÿå……æ»¡å¹¶è¡Œã€å¼‚æ­¥ç­‰å¹¶å‘æ¨¡å¼ã€‚AIFlow æ”¯æŒï¼š

- **æ—¶åºå›¾**ï¼šç”Ÿå‘½çº¿å’Œæ¶ˆæ¯æµ
- **æµç¨‹å›¾**ï¼šå¸¦ forkï¼ˆåˆ†å‰ï¼‰å’Œ joinï¼ˆæ±‡åˆï¼‰èŠ‚ç‚¹
- **å¤šæµç¨‹è”åŠ¨åŠ¨ç”»**ï¼šåœ¨ä¸»ç»“æ„å›¾ä¸ŠåŒæ—¶æ’­æ”¾å¤šæ¡æ‰§è¡Œè½¨è¿¹
- **è°ƒç”¨å †æ ˆå¯è§†åŒ–**ï¼šé€’å½’è°ƒç”¨çš„å±‚å±‚åµŒå¥—åŒºå—

### 6. å…¨æ–¹ä½çš„ç”¨æˆ·æ§åˆ¶

ç”¨æˆ·ä¸æ˜¯è¢«åŠ¨çš„è§‚å¯Ÿè€…ï¼š

- â¯ï¸ **æ’­æ”¾/æš‚åœ/å›æº¯**ï¼šæ§åˆ¶ä»»æ„å±‚çº§è¡Œä¸º
- ğŸ” **å•æ­¥è¿è¡Œè¯¦æƒ…**ï¼šæ£€æŸ¥å˜é‡çŠ¶æ€å’Œæ‰§è¡Œè·¯å¾„
- ğŸ“Š **å¤šç»´åº¦åˆ‡æ¢**ï¼šç»“æ„å›¾ â†” æ—¶åºå›¾ â†” æµç¨‹å›¾
- ğŸ¨ **è¯­ä¹‰å¯è§†åŒ–**ï¼šMVC é¢œè‰²æ ‡è®°ã€æŠ€æœ¯æ ˆ Logoã€æ•°æ®åº“å›¾æ ‡

---

## ğŸ“‹ å®Œæ•´å·¥ä½œæµç¨‹

### äº”é˜¶æ®µæ™ºèƒ½åˆ†ææµç¨‹

```mermaid
graph LR
    A[ç”¨æˆ·æä¾›æºä»£ç ] --> B[æ ¸å¿ƒæŒ‡ä»¤é›†]
    B --> C[AI æ‰§è¡Œåˆ†æ]
    C --> D[æ ‡å‡† JSON è¾“å‡º]
    D --> E[å¯è§†åŒ–å¼•æ“]
    E --> F[äº¤äº’å¼è¡Œä¸ºæ²™ç›˜]
```

#### ç¬¬ä¸€é˜¶æ®µï¼šè¿æ¥ä¸æŒ‡æŒ¥
- ç”¨æˆ·é€šè¿‡ **AI é€‚é…å™¨**å°† AIFlow è¿æ¥åˆ°é€‰å®šçš„ AI å·¥å…·
- å¹³å°å†…ç½®çš„**æ ¸å¿ƒæŒ‡ä»¤é›†**å¯åŠ¨ï¼Œåˆ†é˜¶æ®µå‘ AI å‘é€åˆ†ææŒ‡ä»¤

#### ç¬¬äºŒé˜¶æ®µï¼šæ™ºèƒ½åˆ†æï¼ˆAI å·¥å…·æ‰§è¡Œï¼‰
AI å¯¹å®Œæ•´æºä»£ç è¿›è¡Œæ·±åº¦åˆ†æï¼Œå®Œæˆï¼š
1. **é¡¹ç›®è®¤çŸ¥**ï¼šç†è§£é¡¹ç›®ç±»å‹ã€æŠ€æœ¯æ ˆã€æ¶æ„æ¨¡å¼
2. **ç»“æ„è¯†åˆ«**ï¼šåˆ’åˆ†æ¨¡å—ã€ç»„ä»¶ã€å‡½æ•°å¹¶å»ºç«‹å±‚æ¬¡å…³ç³»
3. **è¯­ä¹‰åˆ†æ**ï¼šç†è§£ä¸šåŠ¡è¯­ä¹‰ï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€çš„æ¨¡å—/å‡½æ•°å‘½å
4. **æ‰§è¡Œæ¨ç†**ï¼šæ¨æ–­æ ¸å¿ƒä¸šåŠ¡åœºæ™¯çš„æ‰§è¡Œè·¯å¾„å’Œè°ƒç”¨å…³ç³»
5. **å¹¶å‘æ£€æµ‹**ï¼šè¯†åˆ«å¼‚æ­¥ã€å¤šçº¿ç¨‹ã€å¹¶å‘æ¨¡å¼

æœ€ç»ˆè¾“å‡ºï¼šéµå¾ª**æ ‡å‡†æ•°æ®åè®®**çš„è¯¦å°½ JSON æ–‡ä»¶

#### ç¬¬ä¸‰é˜¶æ®µï¼šæ²™ç›˜ç”Ÿæˆ
**å¯è§†åŒ–å¼•æ“**æ¥æ”¶ JSON æ•°æ®ï¼Œæ¸²æŸ“åŠ¨æ€å±‚çº§çš„ä»£ç ç»“æ„å›¾ï¼š

- ä½¿ç”¨ **Cytoscape.js** æ¸²æŸ“å¯å±•å¼€æŠ˜å çš„åˆ†ç»„å—
- æ¯ä¸ªåˆ†ç»„å’Œç»„ä»¶ä¸Šç”Ÿæˆ **AI å‘½åçš„å¯åŠ¨æŒ‰é’®**
- ä½¿ç”¨ç‰¹å®šé¢œè‰²æ ‡è®° MVC æ¨¡å¼ã€æŠ€æœ¯æ ˆ Logoã€æ•°æ®åº“å›¾æ ‡

#### ç¬¬å››é˜¶æ®µï¼šè¡Œä¸ºè§‚å¯Ÿï¼ˆç”¨æˆ·äº¤äº’ï¼‰

**å®è§‚è§†è§’**ï¼š
- ç‚¹å‡»**å¤§æŒ‰é’®**å¯åŠ¨ç³»ç»Ÿçº§åŠ¨ç”»
- è§‚çœ‹ä»£è¡¨ä¸åŒå¹¶å‘æµç¨‹çš„"è„‰å†²"åœ¨æ²™ç›˜ä¸ŠåŒæ—¶æµåŠ¨
- ç†è§£æ¨¡å—é—´çš„ååŒå…³ç³»

**å¾®è§‚è§†è§’**ï¼š
- å±•å¼€åˆ†ç»„ï¼Œç‚¹å‡»**å°æŒ‰é’®**ç‹¬ç«‹è¿è¡Œå­æ¨¡å—æµç¨‹
- åˆ‡æ¢åˆ°æ—¶åºå›¾/æµç¨‹å›¾æŸ¥çœ‹æ‰§è¡Œç»†èŠ‚
- è¿›å…¥**å•æ­¥è¿è¡Œè¯¦æƒ…**æ£€æŸ¥å˜é‡çŠ¶æ€

#### ç¬¬äº”é˜¶æ®µï¼šæ·±åº¦æ¢ç´¢

- **å˜é‡ä½œç”¨åŸŸè¿½è¸ª**ï¼šå…¨å±€/å±€éƒ¨/é—­åŒ…ä½œç”¨åŸŸçš„å˜é‡å¿«ç…§
- **è°ƒç”¨å †æ ˆå¯è§†åŒ–**ï¼šé€’å½’è°ƒç”¨çš„å±‚å±‚åµŒå¥—
- **å¹¶å‘åŒæ­¥ç‚¹**ï¼šfork/join èŠ‚ç‚¹å’Œçº¿ç¨‹æ±‡åˆç‚¹
- **æ—¶é—´è½´ä¼°ç®—**ï¼šåŸºäº AI æ¨ç†çš„ç›¸å¯¹æ—¶é—´æˆ³

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### ä¸‰å±‚æ ¸å¿ƒæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ¸å¿ƒæŒ‡ä»¤é›†å±‚ (Prompt Library)              â”‚
â”‚  - 5é˜¶æ®µåˆ†ææŒ‡ä»¤æ¨¡æ¿                        â”‚
â”‚  - Jinja2 æ¨¡æ¿å¼•æ“                          â”‚
â”‚  - ç‰ˆæœ¬åŒ–ç®¡ç†                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI é€‚é…å™¨å±‚ (Adapter SPI)                  â”‚
â”‚  - Claude 4.5 Adapter                       â”‚
â”‚  - OpenAI Adapter                           â”‚
â”‚  - Gemini Adapter                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ‡å‡†æ•°æ®åè®® (JSON Schema v1.0.0)          â”‚
â”‚  - é¡¹ç›®å…ƒæ•°æ®                               â”‚
â”‚  - ä»£ç ç»“æ„ï¼ˆèŠ‚ç‚¹/è¾¹ï¼‰                      â”‚
â”‚  - å¯åŠ¨æŒ‰é’®ï¼ˆåµŒå¥—å±‚çº§ï¼‰                     â”‚
â”‚  - æ‰§è¡Œè½¨è¿¹ï¼ˆå¤šæ ¼å¼ï¼‰                       â”‚
â”‚  - å¹¶å‘ä¿¡æ¯                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯è§†åŒ–å¼•æ“å±‚ (Visualization Engine)        â”‚
â”‚  - Cytoscape.js: è¡Œä¸ºæ²™ç›˜ï¼ˆä¸»å¼•æ“ï¼‰         â”‚
â”‚  - D3.js: å•æ­¥è¯¦æƒ…å›¾è¡¨ï¼ˆè¾…åŠ©å¼•æ“ï¼‰          â”‚
â”‚  - Monaco Editor: ä»£ç é«˜äº®                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### åç«¯ï¼ˆPython 3.11+ï¼‰ - æ— æœåŠ¡å™¨æ¶æ„
- **AI SDK**: Anthropic (Claude 4.5), OpenAI, Google Generative AI
- **æ¨¡æ¿å¼•æ“**: Jinja2
- **æ•°æ®éªŒè¯**: jsonschema, Pydantic
- **ä¾èµ–ç®¡ç†**: Poetry

#### å‰ç«¯ï¼ˆReact 18 + TypeScript 5.xï¼‰ - çº¯é™æ€åº”ç”¨
- **æ¡†æ¶**: React 18 + TypeScript
- **çŠ¶æ€ç®¡ç†**: Zustand
- **å¯è§†åŒ–**:
  - Cytoscape.jsï¼ˆä»£ç ç»“æ„å›¾ + å¤šæµç¨‹åŠ¨ç”»ï¼‰
  - D3.jsï¼ˆæ—¶åºå›¾/æµç¨‹å›¾/å˜é‡è¿½è¸ªï¼‰
- **ä»£ç ç¼–è¾‘å™¨**: Monaco Editor
- **æ„å»ºå·¥å…·**: Vite

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
aiflow/
â”œâ”€â”€ backend/                           # Python åç«¯ï¼ˆæ— æœåŠ¡å™¨ï¼‰
â”‚   â”œâ”€â”€ aiflow/
â”‚   â”‚   â”œâ”€â”€ protocol/                  # æ ‡å‡†æ•°æ®åè®®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ validator.py          # JSON Schema éªŒè¯å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ serializer.py         # åºåˆ—åŒ–/ååºåˆ—åŒ–å¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ entities.py           # TypedDict å®ä½“å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ schemas/              # JSON Schema æ–‡ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ analysis-schema-v1.0.0.json
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ adapters/                  # AI é€‚é…å™¨å±‚ (SPI)
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py               # æŠ½è±¡åŸºç±»æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ claude.py             # Claude 4.5 é€‚é…å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ openai.py             # OpenAI é€‚é…å™¨
â”‚   â”‚   â”‚   â””â”€â”€ gemini.py             # Gemini é€‚é…å™¨
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ prompts/                   # æ ¸å¿ƒæŒ‡ä»¤é›†å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ manager.py            # Prompt æ¨¡æ¿ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ renderer.py           # Jinja2 æ¸²æŸ“å¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ validator.py          # æ¨¡æ¿æ ¼å¼éªŒè¯å™¨
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ analysis/                  # åˆ†æå¼•æ“ï¼ˆå¯é€‰ï¼‰
â”‚   â”‚       â””â”€â”€ engine.py             # 5é˜¶æ®µåˆ†æç¼–æ’å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                       # Prompt æ¨¡æ¿åº“
â”‚   â”‚   â”œâ”€â”€ registry.yaml              # æ¨¡æ¿æ³¨å†Œè¡¨
â”‚   â”‚   â”œâ”€â”€ comprehensive/             # ç»¼åˆåˆ†æ
â”‚   â”‚   â”‚   â””â”€â”€ analysis/
â”‚   â”‚   â”‚       â””â”€â”€ v1.0.0.yaml       # å•æ¬¡å…¨é¢åˆ†ææ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ project-understanding/     # é˜¶æ®µ1ï¼šé¡¹ç›®è®¤çŸ¥
â”‚   â”‚   â”œâ”€â”€ structure-recognition/     # é˜¶æ®µ2ï¼šç»“æ„è¯†åˆ«
â”‚   â”‚   â”œâ”€â”€ semantic-analysis/         # é˜¶æ®µ3ï¼šè¯­ä¹‰åˆ†æ
â”‚   â”‚   â”œâ”€â”€ execution-inference/       # é˜¶æ®µ4ï¼šæ‰§è¡Œæ¨ç†
â”‚   â”‚   â””â”€â”€ concurrency-detection/     # é˜¶æ®µ5ï¼šå¹¶å‘æ£€æµ‹
â”‚   â”‚
â”‚   â”œâ”€â”€ pyproject.toml                 # Poetry é…ç½®
â”‚   â””â”€â”€ requirements.txt               # Pip ä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ frontend/                          # React å‰ç«¯ï¼ˆçº¯é™æ€ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ protocol.ts           # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/               # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CodeStructureGraph/   # Cytoscape.js ç»“æ„å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ ExecutionTrace/       # D3.js æ‰§è¡Œè½¨è¿¹
â”‚   â”‚   â”‚   â”œâ”€â”€ LaunchButton/         # åµŒå¥—å¯åŠ¨æŒ‰é’®
â”‚   â”‚   â”‚   â””â”€â”€ StepDetails/          # Monaco å•æ­¥è¯¦æƒ…
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ stores/                   # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ analysisStore.ts      # åˆ†ææ•°æ®çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ visualizationStore.ts # å¯è§†åŒ–æ§åˆ¶çŠ¶æ€
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ dataLoader.ts         # JSON æ•°æ®åŠ è½½å™¨
â”‚   â”‚       â””â”€â”€ validators.ts         # å‰ç«¯æ•°æ®éªŒè¯
â”‚   â”‚
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docs/                              # æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE.md               # æ¶æ„è®¾è®¡è¯¦è§£
â”‚   â”œâ”€â”€ PROMPT_DESIGN.md              # æ ¸å¿ƒæŒ‡ä»¤é›†è®¾è®¡
â”‚   â”œâ”€â”€ DATA_PROTOCOL.md              # æ ‡å‡†æ•°æ®åè®®è§„èŒƒ
â”‚   â””â”€â”€ USER_GUIDE.md                 # ç”¨æˆ·ä½¿ç”¨æŒ‡å—
â”‚
â””â”€â”€ README.md                          # æœ¬æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

**åç«¯ï¼ˆPythonï¼‰**ï¼š
```bash
cd backend
poetry install
# æˆ–ä½¿ç”¨ pip
pip install -r requirements.txt
```

**å‰ç«¯ï¼ˆNode.jsï¼‰**ï¼š
```bash
cd frontend
npm install
```

### 2. é…ç½® AI é€‚é…å™¨

åˆ›å»º `.env` æ–‡ä»¶é…ç½® API Keyï¼š

```bash
# Claude 4.5
ANTHROPIC_API_KEY=your_anthropic_api_key

# OpenAI (å¯é€‰)
OPENAI_API_KEY=your_openai_api_key

# Gemini (å¯é€‰)
GOOGLE_API_KEY=your_google_api_key
```

### 3. ä½¿ç”¨æ ¸å¿ƒæŒ‡ä»¤é›†åˆ†æé¡¹ç›®

**æ–¹å¼ Aï¼šç›´æ¥ä½¿ç”¨ Prompt æ¨¡æ¿**

```python
from aiflow.prompts import PromptRenderer
from aiflow.adapters.claude import create_claude_adapter
import json

# 1. åŠ è½½ Prompt æ¨¡æ¿
renderer = PromptRenderer()
prompt = renderer.render(
    language="python",
    stage="comprehensive_analysis",
    input_data={
        "project_path": "/path/to/your/project",
        "project_name": "MyApp",
        "source_files": ["main.py", "models.py", "..."]
    }
)

# 2. é€šè¿‡ AI é€‚é…å™¨æ‰§è¡Œåˆ†æ
adapter = await create_claude_adapter(model_name="claude-sonnet-4-5-20250929")
response = await adapter.generate(prompt=prompt)

# 3. ä¿å­˜ JSON ç»“æœ
with open("analysis_result.json", "w") as f:
    json.dump(response.content, f, indent=2)
```

**æ–¹å¼ Bï¼šä½¿ç”¨åˆ†æå¼•æ“ï¼ˆå¯é€‰ï¼‰**

```python
from aiflow.analysis import AnalysisEngine

engine = AnalysisEngine(adapter_type="claude")
result = await engine.analyze_project(
    project_path="/path/to/your/project",
    output_path="analysis_result.json"
)
```

### 4. å¯åŠ¨å¯è§†åŒ–å‰ç«¯

```bash
cd frontend
npm run dev
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:5173`ï¼ŒåŠ è½½ç”Ÿæˆçš„ `analysis_result.json` æ–‡ä»¶ã€‚

---

## ğŸ“Š æ ‡å‡†æ•°æ®åè®®

AIFlow å®šä¹‰äº†å®Œæ•´çš„ JSON Schema v1.0.0ï¼ŒåŒ…å«ï¼š

### æ ¸å¿ƒæ•°æ®ç»“æ„

```json
{
  "$schema": "https://aiflow.dev/schemas/analysis-v1.0.0.json",
  "version": "1.0.0",
  "project_metadata": {
    "name": "é¡¹ç›®åç§°",
    "language": "python",
    "framework": "Django",
    "entry_points": ["main.py"]
  },
  "code_structure": {
    "nodes": [
      {
        "id": "uuid-v4",
        "label": "ç”¨æˆ·è®¤è¯æ¨¡å—",
        "stereotype": "module",
        "parent": null
      }
    ],
    "edges": [
      {
        "id": "uuid-v4",
        "source": "node-id-1",
        "target": "node-id-2",
        "relationship": "imports"
      }
    ]
  },
  "behavior_metadata": {
    "launch_buttons": [
      {
        "id": "uuid-v4",
        "node_id": "å…³è”èŠ‚ç‚¹ID",
        "name": "å¯åŠ¨ç”¨æˆ·æ³¨å†Œæµç¨‹",
        "type": "macro",
        "level": "system",
        "parent_button_id": null,
        "child_button_ids": ["å­æŒ‰é’®ID"],
        "traceable_unit_id": "æ‰§è¡Œè½¨è¿¹ID"
      }
    ]
  },
  "execution_trace": {
    "traceable_units": [
      {
        "id": "uuid-v4",
        "name": "ç”¨æˆ·æ³¨å†Œæµç¨‹",
        "type": "i-trace",
        "sub_unit_ids": ["å­å•å…ƒID"],
        "traces": [
          {
            "format": "flowchart",
            "data": {
              "steps": [...],
              "connections": [...]
            }
          },
          {
            "format": "sequence",
            "data": {
              "lifelines": [...],
              "messages": [...]
            }
          },
          {
            "format": "step-by-step",
            "data": {
              "steps": [...],
              "variableScopes": [...],
              "callStack": [...]
            }
          }
        ]
      }
    ]
  },
  "concurrency_info": {
    "mechanisms": ["asyncio", "threading"],
    "sync_points": [...]
  }
}
```

è¯¦ç»†è§„èŒƒå‚è§ `docs/DATA_PROTOCOL.md`

---

## ğŸ¨ æ ¸å¿ƒåŠŸèƒ½å±•ç¤º

### 1. åµŒå¥—å¯åŠ¨æŒ‰é’®

```
[ğŸš€ å¯åŠ¨å®Œæ•´ç”µå•†è®¢å•æµç¨‹]  â† ç³»ç»Ÿçº§å¤§æŒ‰é’®
  â”œâ”€ [ğŸ“¦ å•†å“é€‰æ‹©æ¨¡å—]
  â”‚   â”œâ”€ [ğŸ” æœç´¢å•†å“]      â† å­æ¨¡å—å°æŒ‰é’®
  â”‚   â””â”€ [â• åŠ å…¥è´­ç‰©è½¦]
  â”œâ”€ [ğŸ’³ æ”¯ä»˜æ¨¡å—]
  â”‚   â”œâ”€ [ğŸ” éªŒè¯æ”¯ä»˜å¯†ç ]
  â”‚   â””â”€ [ğŸ’° æ‰£æ¬¾å¤„ç†]
  â””â”€ [ğŸ“® ç‰©æµæ¨¡å—]
      â””â”€ [ğŸ“ åˆ›å»ºé…é€ä»»åŠ¡]
```

### 2. å¤šæµç¨‹è”åŠ¨åŠ¨ç”»

åœ¨ä¸»ç»“æ„å›¾ä¸ŠåŒæ—¶æ’­æ”¾å¤šæ¡æ‰§è¡Œè½¨è¿¹ï¼š
- **è“è‰²è„‰å†²**ï¼šä¸»çº¿ç¨‹æ‰§è¡Œè·¯å¾„
- **ç»¿è‰²è„‰å†²**ï¼šå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œè·¯å¾„
- **çº¢è‰²è„‰å†²**ï¼šé”™è¯¯å¤„ç†è·¯å¾„

### 3. å•æ­¥è¿è¡Œè¯¦æƒ…

```
æ‰§è¡Œæ­¥éª¤ #42 | 2025-10-12T14:30:05.123Z
æ–‡ä»¶: src/auth/login.py:87
ä»£ç : user = await db.get_user(email)

å˜é‡ä½œç”¨åŸŸ:
  â”Œâ”€ Global Scope
  â”‚  â””â”€ db: DatabaseConnection
  â”œâ”€ Local Scope (login_handler)
  â”‚  â”œâ”€ email: "user@example.com"
  â”‚  â””â”€ password: "******"
  â””â”€ Closure Scope
     â””â”€ session_id: "abc123"

è°ƒç”¨å †æ ˆ:
  1. main() [main.py:12]
  2. handle_request() [server.py:45]
  3. login_handler() [auth/login.py:23]
  4. â†’ await db.get_user() [auth/login.py:87]
```

---

## ğŸ“– å®æ–½è·¯çº¿å›¾

### Step 1: æ ‡å‡†æ•°æ®åè®® âœ…
- [x] å®šä¹‰å®Œæ•´çš„ JSON Schema v1.0.0
- [x] å®ç° Python TypedDict å®ä½“
- [x] å®ç° TypeScript ç±»å‹å®šä¹‰
- [x] åˆ›å»ºæ•°æ®éªŒè¯å™¨å’Œåºåˆ—åŒ–å™¨

### Step 2: æ ¸å¿ƒæŒ‡ä»¤é›† âœ…
- [x] è®¾è®¡ 5 é˜¶æ®µåˆ†æ Prompt æ¨¡æ¿
- [x] å®ç° Jinja2 æ¨¡æ¿ç®¡ç†å™¨
- [x] åˆ›å»ºç»¼åˆåˆ†æ Promptï¼ˆv1.0.0ï¼‰
- [ ] ä¼˜åŒ–å„è¯­è¨€ç‰¹å®šçš„ Prompt æ¨¡æ¿

### Step 3: AI é€‚é…å™¨æ¥å£ âœ…
- [x] å®šä¹‰ SPI æŠ½è±¡åŸºç±»
- [x] å®ç° Claude 4.5 é€‚é…å™¨
- [ ] å®ç° OpenAI é€‚é…å™¨
- [ ] å®ç° Gemini é€‚é…å™¨

### Step 4: å¯è§†åŒ–å¼•æ“ ğŸš§
- [ ] Cytoscape.js ä»£ç ç»“æ„å›¾
- [ ] åµŒå¥—å¯åŠ¨æŒ‰é’®ç»„ä»¶
- [ ] å¤šæµç¨‹è”åŠ¨åŠ¨ç”»
- [ ] D3.js æ—¶åºå›¾/æµç¨‹å›¾
- [ ] Monaco Editor å•æ­¥è¯¦æƒ…

### Step 5: ç”¨æˆ·ä½“éªŒä¼˜åŒ– ğŸ“‹
- [ ] æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²
- [ ] ä¸Šä¸‹æ–‡æç¤ºå’Œå¼•å¯¼
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹ŸåŒ–æ¸²æŸ“ï¼‰
- [ ] å“åº”å¼è®¾è®¡

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼ç‰¹åˆ«æ˜¯ï¼š

1. **AI é€‚é…å™¨å¼€å‘**ï¼šä¸ºæ›´å¤š AI å·¥å…·ç¼–å†™é€‚é…å™¨
2. **Prompt æ¨¡æ¿ä¼˜åŒ–**ï¼šæ”¹è¿›åˆ†ææŒ‡ä»¤çš„å‡†ç¡®æ€§å’Œæ•ˆç‡
3. **å¯è§†åŒ–å¢å¼º**ï¼šæä¾›æ›´ä¸°å¯Œçš„äº¤äº’å’Œå±•ç¤ºæ–¹å¼
4. **è¯­è¨€æ”¯æŒ**ï¼šæ‰©å±•å¯¹æ›´å¤šç¼–ç¨‹è¯­è¨€çš„åˆ†ææ”¯æŒ

è¯¦è§ `CONTRIBUTING.md`

---

## âš ï¸ å·²çŸ¥æŒ‘æˆ˜

### 1. AI è¾“å‡ºçš„ä¸ç¡®å®šæ€§
- **æŒ‘æˆ˜**ï¼šAI åˆ†æç»“æœå¯èƒ½ä¸ç¨³å®šæˆ–ä¸å‡†ç¡®
- **åº”å¯¹**ï¼šè®¾è®¡å¥å£®çš„æŒ‡ä»¤é›†ï¼Œé€šè¿‡é€‚é…å™¨åšé”™è¯¯å¤„ç†å’Œé™çº§

### 2. æ•°æ®åè®®çš„æ¼”è¿›
- **æŒ‘æˆ˜**ï¼šåœ¨è§„èŒƒåŒ–å’Œçµæ´»æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡
- **åº”å¯¹**ï¼šé¢„ç•™æ‰©å±•æœºåˆ¶ï¼Œé‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†

### 3. æ€§èƒ½ä¼˜åŒ–å‹åŠ›
- **æŒ‘æˆ˜**ï¼šå±‚çº§äº¤äº’ + å¤šæµç¨‹åŠ¨ç”»å¯¹æµè§ˆå™¨æ€§èƒ½è¦æ±‚é«˜
- **åº”å¯¹**ï¼šè™šæ‹ŸåŒ–æ¸²æŸ“ã€å¢é‡æ›´æ–°ã€Web Worker

### 4. äº¤äº’å¤æ‚åº¦ç®¡ç†
- **æŒ‘æˆ˜**ï¼šåŠŸèƒ½å¼ºå¤§å¾€å¾€ä¼´éšäº¤äº’å¤æ‚
- **åº”å¯¹**ï¼šæ¸è¿›å¼æŠ«éœ²ã€ä¸Šä¸‹æ–‡æç¤ºã€ä¼˜ç§€çš„ UI/UX è®¾è®¡

### 5. é€‚é…å™¨ç”Ÿæ€ç»´æŠ¤
- **æŒ‘æˆ˜**ï¼šå¤–éƒ¨ AI æœåŠ¡ API å¯èƒ½é¢‘ç¹å˜æ›´
- **åº”å¯¹**ï¼šé€‚é…å™¨ç‰ˆæœ¬ç®¡ç†æœºåˆ¶ï¼Œé¼“åŠ±ç¤¾åŒºè´¡çŒ®

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ™ è‡´è°¢

- **Cytoscape.js** - å¼ºå¤§çš„å›¾å½¢å¯è§†åŒ–åº“
- **D3.js** - æ•°æ®é©±åŠ¨çš„æ–‡æ¡£æ“ä½œ
- **Monaco Editor** - VS Code çº§åˆ«çš„ä»£ç ç¼–è¾‘å™¨
- **Anthropic Claude** - å¼ºå¤§çš„ AI åˆ†æèƒ½åŠ›

---

## ğŸ“® è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/yourusername/aiflow/issues)
- **Discussions**: [GitHub Discussions](https://github.com/yourusername/aiflow/discussions)
- **Email**: your.email@example.com

---

**AIFlow - è®©ä»£ç è¡Œä¸ºåƒæ²™ç›˜ä¸€æ ·æ¸…æ™°å¯è§** ğŸš€
